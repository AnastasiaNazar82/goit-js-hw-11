{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { showLoader } from '../main';\n\nexport function getImg(inputValue) {\n  const baseUrl = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '43044638-81b288208bd41d7f3c4a2027f',\n    q: inputValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${baseUrl}?${params}`;\n  //   showLoader();\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { galleryElement } from '../main';\n\nexport function renderImages(imagesArr) {\n  if (imagesArr.length == 0) {\n    iziToast.error({\n      message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n      theme: 'dark',\n      progressBarColor: '#FFFFFF',\n      color: '#EF4040',\n      position: 'topRight',\n    });\n    galleryElement.innerHTML = '';\n  } else {\n    const imgGallery = imagesArr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    </a>\n    <div class=\"content-image\">\n    <p class=\"content-item\">Likes<span class=\"info-item\">${likes}</span></p>\n    <p class=\"content-item\">Views<span class=\"info-item\">${views}</span></p>\n    <p class=\"content-item\">Comments<span class=\"info-item\">${comments}</span></p>\n    <p class=\"content-item\">Downloads<span class=\"info-item\">${downloads}</span></p>\n    </div\n    </li>`\n      )\n      .join('');\n    galleryElement.innerHTML = imgGallery;\n  }\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getImg } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nexport const galleryElement = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loaderItem = document.querySelector('.conteiner-loader');\nconst inputValue = document.querySelector('input');\n\nloaderItem.style.display = 'none';\n\nexport const showLoader = () => {\n  loaderItem.style.display = 'flex';\n};\n\nconst hideLoader = () => {\n  loaderItem.style.display = 'none';\n};\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  //   galleryElement.innerHTML = '';\n\n  const searchImgs = inputValue.value.trim();\n  showLoader();\n\n  if (searchImgs !== '') {\n    getImg(searchImgs)\n      .then(data => {\n        renderImages(data.hits);\n        hideLoader();\n      })\n      .catch(error => {\n        console.log(error);\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Sorry, there are no images matching your search query. Please, try again!`,\n          position: 'topRight',\n        });\n      });\n  } else {\n    inputValue.value = '';\n    iziToast.error({\n      color: 'yellow',\n      message: ` Please fill in the field for search`,\n      position: 'topRight',\n    });\n  }\n});\n"],"names":["getImg","inputValue","baseUrl","params","url","response","renderImages","imagesArr","galleryElement","imgGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","loaderItem","showLoader","hideLoader","event","searchImgs","data","error","iziToast"],"mappings":"6vBAEO,SAASA,EAAOC,EAAY,CACjC,MAAMC,EAAU,2BACVC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKG,EAAM,GAAGF,CAAO,IAAIC,CAAM,GAEhC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,CChBO,SAASC,EAAaC,EAAW,CACtC,GAAIA,EAAU,QAAU,EACtB,SAAS,MAAM,CACb,QAAS,8EACT,MAAO,OACP,iBAAkB,UAClB,MAAO,UACP,SAAU,UAChB,CAAK,EACDC,EAAe,UAAY,OACtB,CACL,MAAMC,EAAaF,EAChB,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IAAc;AAAA,oCACsBL,CAAa;AAAA,sCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2DAGLC,CAAK;AAAA,2DACLC,CAAK;AAAA,8DACFC,CAAQ;AAAA,+DACPC,CAAS;AAAA;AAAA,UAGjE,EACA,KAAK,EAAE,EACVR,EAAe,UAAYC,CAC5B,CACgB,IAAIQ,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EAEQ,QAAO,CAClB,CCtCO,MAAMT,EAAiB,SAAS,cAAc,UAAU,EACzDU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,mBAAmB,EACvDlB,EAAa,SAAS,cAAc,OAAO,EAEjDkB,EAAW,MAAM,QAAU,OAEpB,MAAMC,EAAa,IAAM,CAC9BD,EAAW,MAAM,QAAU,MAC7B,EAEME,EAAa,IAAM,CACvBF,EAAW,MAAM,QAAU,MAC7B,EAEAD,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EAGpB,MAAMC,EAAatB,EAAW,MAAM,KAAI,EACxCmB,IAEIG,IAAe,GACjBvB,EAAOuB,CAAU,EACd,KAAKC,GAAQ,CACZlB,EAAakB,EAAK,IAAI,EACtBH,GACR,CAAO,EACA,MAAMI,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8EACT,SAAU,UACpB,CAAS,CACT,CAAO,GAEHzB,EAAW,MAAQ,GACnByB,EAAS,MAAM,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UAChB,CAAK,EAEL,CAAC"}